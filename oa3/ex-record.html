<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<link rel="stylesheet" href="../adatutor.css" type="text/css">
<link rel='top' title='AdaTutor' href='../index.html' />
<link rel='up' title='Outside Assignment 3' href='index.html' />
<link rel='prev' title='Outside Assignment 3' href='index.html' />
<link rel='next' title='Congratulations on Completing Outside Assignment 3' href='oa3ans.html' />

<script type="text/javascript" src="../adatutor.js"></script>

<meta name="author" content="John J. Herro">
<meta name="converted_by" content="Zhu, Qun-Ying">
<meta name="description" content="AdaTutor on Web">
<meta name="keywords" content="Ada, Tutorial, AdaTutor, exercise in records">

<title>AdaTutor - Exercise in Records</title>

</head><body>
<div class="outer-box">
<div class="nav">
<table><tr>
	<td><div class='nav-prev'><a href="index.html">Prev</a></div></td>
	<td><div class='nav-conents'><a href="index.html">Up</a></div></td>
	<td><div class="nav-next"><a href="oa3ans.html">Next</a></div></td>
</tr>
</table>
</div> <!-- end nav -->

<div class="main-content">
<h2>Exercise in Records</h2>
Your third Outside Assignment is to write a function specified by
<pre class="hl">   <span class="hl kwa">type</span> Month_Type <span class="hl kwa">is</span> <span class="hl opt">(</span>Jan<span class="hl opt">,</span> Feb<span class="hl opt">,</span> Mar<span class="hl opt">,</span> Apr<span class="hl opt">,</span> May<span class="hl opt">,</span> Jun<span class="hl opt">,</span> Jul<span class="hl opt">,</span> Aug<span class="hl opt">,</span> Sep<span class="hl opt">,</span> Oct<span class="hl opt">,</span> Nov<span class="hl opt">,</span> Dec<span class="hl opt">);</span>
   <span class="hl kwa">subtype</span> Day_Subtype <span class="hl kwa">is</span> <span class="hl kwb">Integer</span> <span class="hl kwa">range</span> <span class="hl num">1</span> <span class="hl opt">..</span> <span class="hl num">31</span><span class="hl opt">;</span>
   <span class="hl kwa">type</span> Date <span class="hl kwa">is record</span>
      Day   <span class="hl opt">:</span> Day_Subtype<span class="hl opt">;</span>
      Month <span class="hl opt">:</span> Month_Type<span class="hl opt">;</span>
      Year  <span class="hl opt">:</span> <span class="hl kwb">Integer</span><span class="hl opt">;</span>
   <span class="hl kwa">end record</span><span class="hl opt">;</span>
   <span class="hl kwa">function</span> Tomorrow<span class="hl opt">(</span>Today <span class="hl opt">:</span> <span class="hl kwa">in</span> Date<span class="hl opt">)</span> <span class="hl kwa">return</span> Date<span class="hl opt">;</span>
</pre></p>

<p>Given any date, Tomorrow should return the following date.&nbsp;  Your
function will be tested only with legal dates.&nbsp; As with Outside Assignment
2, a test driver is already written; it's in
<b><a href='nextdate.ada'>NEXTDATE.ADA</a></b>.&nbsp;  A listing is on
page 13 of your printed course notes, but you needn't understand the test
driver.&nbsp;  If your function fails any test, you'll see the test case, the
answer from your function, and the right answer.&nbsp;  Otherwise, you'll see
&ldquo;Congratulations, you completed the assignment!&rdquo;</p>

<p>The definitions of Month_Type, Day_Subtype, and Date are in the test driver;
you shouldn't define them inside your function.&nbsp;  A dummy solution is in
<b><a href='tomorrow.dum'>TOMORROW.DUM</a></b>; it looks like this:
<pre class="hl">   <span class="hl slc">-- Dummy solution to Outside Assignment 3</span><div class="pre-a">   <span class="hl kwa">separate</span> <span class="hl opt">(</span>Nextdate<span class="hl opt">)</span>
   <span class="hl kwa">function</span> Tomorrow<span class="hl opt">(</span>Today <span class="hl opt">:</span> <span class="hl kwa">in</span> Date<span class="hl opt">)</span> <span class="hl kwa">return</span> Date <span class="hl kwa">is</span>
   <span class="hl kwa">begin</span></div>      <span class="hl kwa">return</span> Today<span class="hl opt">;</span><div class="pre-a">   <span class="hl kwa">end</span> Tomorrow<span class="hl opt">;</span></div>
</pre>
</p>

<p>Again, you'll probably want to remove or change the comment line, and you
shouldn't change the lines <b>highlighted</b> above.&nbsp;  You may, but don't
have to, include <b>Answer : Date;</b> in the declarative region and make
<b>return Answer;</b> the last statement before <b>end Tomorrow;</b>.</p>

<p>Normally, years divisible by 4 are leap years.&nbsp;  But if a year is
divisible by 100, it must also be divisible by 400 to be a leap year.&nbsp;
Thus, 2000 is a leap year, but 1900 and 2100 are not.&nbsp;  Note that
<b>Today.Year</b> is divisible by 4 if and only if
<b>Today.Year mod 4 = 0</b>.&nbsp;  You may assume that <b>Today.Year</b> will
always be between 1583 and 3999, because outside this range the calendar gets
more complicated.</p>

<p>The steps to follow for Outside Assignment 3 are very similar to those of
Outside Assignment 2.&nbsp;  They're in your printed course notes on page 14:
<ol>
<li>Copy TOMORROW.DUM to TOMORROW.ADA to make a copy of the dummy
 solution.&nbsp; Also, compile the test driver NEXTDATE.ADA.&nbsp;  You need do
 this step only once.</li>

<li>Edit TOMORROW.ADA to become your real solution.&nbsp;  You may skip this
 step the first time through, to see error messages from the test driver.</li>

<li>Compile TOMORROW.ADA.&nbsp;  If the compiler finds errors, go back to step
 2.</li>

<li>Link with the name of the main program Nextdate.&nbsp;  Then execute.&nbsp;
  If the test driver displays error messages, go back to step 2.</li>

<li>When the message &ldquo;Congratulations, you completed the
 assignment!&rdquo; is displayed, you'll have a chance to compare your solution
 with ours.</li>
</ol>

<p>There are many ways to solve this problem.&nbsp;  In our solution we
declared an array of Day_Subtype with subscripts of type Month_Type.&nbsp;
Some students use a <b>case</b> construct on Today.Month; some use an
<b>if</b> block with <b>elsifs</b>.</p>

<p>This assignment should be a simple exercise in records.&nbsp;  Our solution
fits on one screen.&nbsp;  If your solution starts to get long and difficult,
you should think the problem through again.&nbsp;  Don't try to save the
computer a few microseconds; computers are supposed to save people time.&nbsp;
Instead, minimize the <b>complexity</b> of the program to save yourself
programming effort!</p>

<p>Remember that an entire record can be assigned in one statement.&nbsp; Also,
try to calculate the number of days in the month and <b>then</b> test for end
of month and end of year in only one place.&nbsp;  This is better than having
several blocks of code testing for end of month and end of year in three or
four different places in your program.&nbsp;  One last hint: remember that
Month_Type'Succ(Today.Month) will raise a Constraint_Error if Today.Month is
Dec.</p>

<p>Please stop reading AdaTutor temporarily, and try Outside Assignment
3.&nbsp;  Work at your own pace; there's no deadline.&nbsp;  Good luck!</p>

</div> <!-- end main-content -->
</div> <!-- end outer-box -->

</body></html>
